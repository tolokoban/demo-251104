"use strict";(self.webpackChunkloris_fonts=self.webpackChunkloris_fonts||[]).push([[748],{748:(t,i,n)=>{n.r(i),n.d(i,{default:()=>u});var o=n(259),r=n(552),e=n(501);class a extends r.rBx{constructor(t){super({debug:!0,attPosition:"POSITION",attNormal:"NORMAL",varyings:{varNormal:"vec3",varPosition:"vec4"},uniforms:{uniTransition:"float",uniColor2D:"vec4",uniColor3D:"vec4",uniLightDir:"vec3",uniSpecularExponent:"float",uniSpecularIntensity:"float",uniTransfoMatrix:"mat4",uniSkybox:"samplerCube"},setUniforms:(i,n,o)=>{i.uniform1f("uniTransition",this.transition),i.uniform4fv("uniColor2D",this.color2D.clone().scale4([this.lightColor2D,this.lightColor2D,this.lightColor2D,1])),i.uniform4fv("uniColor3D",this.color3D),i.uniform3fv("uniLightDir",this.lightDir),i.uniform1f("uniSpecularExponent",30),i.uniform1f("uniSpecularIntensity",10),t.skybox.activate(0,i,"uniSkybox")},vertexShaderCode:()=>[`varNormal = ${this.attNormal};`,`varPosition = uniTransfoMatrix * ${this.attPosition};`],vertexShaderCodeForGetPosition:["pos.z *= uniTransition;","return pos;"],extraFragmentShaderFunctions:()=>({getColor2D:["vec4 getColor2D() {",["return uniColor2D;"],"}"],getSkyboxColor:["vec4 getSkyboxColor(vec3 normal) {",["vec3 normal2 = mat3(1, 0, 0, 0, 0, -1, 0, 1, 0) * mat3(uniTransfoMatrix) * normal;","vec4 skybox = texture(uniSkybox, reflect(varPosition.xyz, normal2));","skybox *= skybox;","return skybox;"],"}"],getColor3D:["vec4 getColor3D() {",["vec3 normal = normalize(varNormal);","vec4 skybox = getSkyboxColor(normal);","float light = 1.0 - dot(normal, uniLightDir);","light *= .5;","vec4 color = uniColor3D * skybox;","vec3 reflection = reflect(uniLightDir, normal);","float spec = max(0.0, reflection.z);","spec = pow(spec, uniSpecularExponent) * uniSpecularIntensity;","color = vec4(","  color.rgb * (","    .5 * skybox.rgb + vec3(.7, .8, .9) * light","  ) + skybox.rgb * spec,","  1.0",");","return color;"],"}"]}),fragmentShaderCode:["return mix(getColor2D(), getColor3D(), uniTransition);"]}),this.transition=0,this.lightColor2D=1,this.color2D=new r.oao,this.color3D=new r.oao,this.lightDir=new r.hNi(.1,-.5,-1).normalize(),this.color2D.from(t.color2D),this.color3D.from(t.color3D)}}class s{constructor(t){this.target=t,this.runningAnimations=[]}animToDark(){this.clear();const{target:t}=this,{context:i,lightColor2D:n}=t,o=(0,r.Qc2)(.3,1)*Math.abs(.1-n);this.runningAnimations=i.animSchedule({name:`${this.target.name} (to DARK)`,duration:o,delay:(0,r.Qc2)(.5),action:i=>{t.lightColor2D=(0,r.fTR)(n,.1,i)}})}animToLight(){this.clear();const{target:t}=this,{context:i,lightColor2D:n}=t,o=(0,r.Qc2)(1,2)*Math.abs(1-n);this.runningAnimations=i.animSchedule({name:`${this.target.name} (to LIGHT)`,duration:o,delay:(0,r.Qc2)(.5),action:i=>{t.lightColor2D=(0,r.fTR)(n,1,i)}})}clear(){for(const t of this.runningAnimations)this.target.context.animCancel(t);this.runningAnimations=[]}}const h=["Lemanic","Arvana","Banya mist","Banya Std","Fuzar","Giparan","Kronik Antik","Kronik grotesk","Kronik vision","Medley","Oni","Ortank","Ortank Hangeul","Superheat"];class l extends r.buV{constructor(t,i,n){super(),this.context=t,this._lightColor2D=1,this.animating="none",this.runningAnimations=[],this._transition=0,this.select=()=>{if(console.log("Select",this.name),"none"!==this.animating)return!1;const{xOrigin:t,yOrigin:i,context:n}=this;this.animating="foreward";const o=(0,r.P11)({from:[t,i,0],to:[t/10,0,7.5],action:t=>{this.transfo.setPosition(...t)}});return this.runningAnimations=n.animSchedule({duration:.2,action:t=>{this.transition=t,o(t)},onEnd:()=>{this.runningAnimations=n.animSchedule({duration:60,action:t=>{const i=60*t,n=i,o=1.344*i,e=new r.HIE;e.rotateAroundX(.15*Math.sin(n)*3),e.rotateAroundY(.15*Math.sin(o)*3),this.transfo.orientation=e},onEnd:()=>{this.unselect()}})}}),!0},this.unselect=()=>{if("foreward"!==this.animating)return;this.animating="backward";const{xOrigin:t,yOrigin:i,context:n,transition:o}=this;for(const t of this.runningAnimations)n.animCancel(t);this.runningAnimations=[];const e=(0,r.$4L)(this.transfo,this.transfo,{position:[t,i,0],orientation:new r.HIE});n.animSchedule({duration:.2,action:t=>{this.transition=(0,r.fTR)(o,0,t),e(t)},onEnd:()=>this.animating="none"})};const o=e.U.assets.glb.value;if(!o)throw new Error("Asset has not been loaded yet!");this.name=h[i]??`Invalid index #${i}!`;const c=this.materialSocle=new a({color2D:[.1,.1,.1,1],color3D:[.4,.45,.5,1],skybox:n}),u=this.materialLetter=new a({color2D:[1,1,1,1],color3D:[.9,.7,.2,1],skybox:n}),g=new r.dRj(t,{asset:o,meshIndexOrName:"Stencil",material:c}),m=new r.dRj(t,{asset:o,meshIndexOrName:this.name,material:u});this.add(g,new r.buV({children:[m],transfo:{position:[0,0,.1]}}));const f=i%7,d=Math.floor(i/7),x=(f-3)*l.width,D=(.5-d)*l.height;this.transfo.setPosition(x,D,0),this.xOrigin=x,this.yOrigin=D,this.animLightFading=new s(this),this.lightColor2D=0,this.animLightFading.animToLight()}get lightColor2D(){return this._lightColor2D}set lightColor2D(t){this._lightColor2D=t,this.materialSocle.lightColor2D=t,this.materialLetter.lightColor2D=t}get transition(){return this._transition}set transition(t){this._transition=t,this.materialSocle.transition=t,this.materialLetter.transition=t}animToDark(){this.animLightFading.animToDark()}animToLight(){this.animLightFading.animToLight()}hitTest(t,i){const n=Math.abs(t-this.xOrigin),o=Math.abs(i-this.yOrigin);return n<l.width/2&&o<l.height/2}}l.width=5.08,l.height=6.4;const c={main:"yWd8oPugx5O0Dhk7Mwjj"};function u(){const t=t=>{if(!t)return;const i=new r.xNY({transfo:{distance:20,position:[0,0,0]},far:1e3,near:.1,fovy:Math.PI/4,zoom:1}),n=new r.tfp(t,{camera:i}),o=new r.Ipk(n,{depth:r.Eg5.lessOrEqual,children:[new r.ZJl(()=>{n.camera.fitSpaceAtTarget(7.35*l.width,2.1*l.height)}),new r.o57(n,{color:[0,0,0,1],depth:1})]});if(n.add(o),!e.U.assets.glb.value)throw new Error("Asset has not been loaded yet!");const a=new r.adp(n,e.U.assets.skybox.value),s=[];for(let t=0;t<14;t++){const i=new l(n,t,a);s.push(i),o.add(i)}n.paint(),n.inputs.pointer.eventTap.addListener(t=>{for(const t of s)t.unselect();const i=((t,i)=>{const{camera:o}=n,r=o.spaceWidthAtTarget*t/2,e=o.spaceHeightAtTarget*i/2;for(const t of s)if(t.hitTest(r,e))return t})(t.x,t.y);if(i)if(i.select())for(const t of s)t.animToDark();else for(const t of s)t.animToLight();else for(const t of s)t.animToLight()})};return(0,o.jsx)("div",{className:c.main,children:(0,o.jsx)("canvas",{ref:t})})}}}]);
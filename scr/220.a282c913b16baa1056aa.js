"use strict";(self.webpackChunkloris_fonts=self.webpackChunkloris_fonts||[]).push([[220],{220:(t,n,i)=>{i.r(n),i.d(n,{default:()=>h});var o=i(259),e=i(756),r=i(501);class s extends e.rBx{constructor(t){super({debug:!0,attPosition:"POSITION",attNormal:"NORMAL",varyings:{varNormal:"vec3",varPosition:"vec4"},uniforms:{uniTransition:"float",uniColor2D:"vec4",uniColor3D:"vec4",uniLightDir:"vec3",uniSpecularExponent:"float",uniSpecularIntensity:"float",uniTransfoMatrix:"mat4",uniSkybox:"samplerCube"},setUniforms:(n,i,o)=>{n.uniform1f("uniTransition",this.transition),n.uniform4fv("uniColor2D",this.color2D),n.uniform4fv("uniColor3D",this.color3D),n.uniform3fv("uniLightDir",this.lightDir),n.uniform1f("uniSpecularExponent",30),n.uniform1f("uniSpecularIntensity",10),t.skybox.activate(0,n,"uniSkybox")},vertexShaderCode:()=>[`varNormal = ${this.attNormal};`,`varPosition = uniTransfoMatrix * ${this.attPosition};`],vertexShaderCodeForGetPosition:["pos.z *= uniTransition;","return pos;"],extraFragmentShaderFunctions:()=>({getColor2D:["vec4 getColor2D() {",["return uniColor2D;"],"}"],getColor3D:["vec4 getColor3D() {",["vec3 normal = normalize(varNormal);","vec3 normal2 = mat3(uniTransfoMatrix) * normal;","vec4 skybox = texture(uniSkybox, reflect(varPosition.xyz, normal2));","skybox *= skybox;","float light = 1.0 - dot(normal, uniLightDir);","light *= .5;","vec4 color = uniColor3D * skybox;","vec3 reflection = reflect(uniLightDir, normal);","float spec = max(0.0, reflection.z);","spec = pow(spec, uniSpecularExponent) * uniSpecularIntensity;","color = vec4(","  color.rgb * (","    vec3(.1) + vec3(.7, .8, .9) * light","  ) + vec3(spec),","  1.0",");","return color;"],"}"]}),fragmentShaderCode:["return mix(getColor2D(), getColor3D(), uniTransition);"]}),this.transition=0,this.color2D=new e.oao,this.color3D=new e.oao,this.lightDir=new e.hNi(.1,-.5,-1).normalize(),this.color2D.from(t.color2D),this.color3D.from(t.color3D)}}const a=["Lemanic","Arvana","Banya mist","Banya Std","Fuzar","Giparan","Kronik Antik","Kronik grotesk","Kronik vision","Medley","Oni","Ortank","Ortank Hangeul","Superheat"];class c extends e.buV{constructor(t,n,i){super(),this.context=t,this.skybox=i,this.animating="none",this.runningAnimations=[],this._transition=0,this.select=()=>{if(console.log("Select",this.name),"none"!==this.animating)return;const{xOrigin:t,yOrigin:n,context:i}=this;this.animating="foreward";const o=(0,e.P11)({from:[t,n,0],to:[t/10,0,7.5],action:t=>{this.transfo.setPosition(...t)}});this.runningAnimations=i.animSchedule({duration:.2,action:t=>{this.transition=t,o(t)},onEnd:()=>{this.runningAnimations=i.animSchedule({duration:60,action:t=>{const n=60*t,i=n,o=1.344*n,r=new e.HIE;r.rotateAroundX(.15*Math.sin(i)*3),r.rotateAroundY(.15*Math.sin(o)*3),this.transfo.orientation=r},onEnd:()=>{this.unselect()}})}})},this.unselect=()=>{if("foreward"!==this.animating)return;this.animating="backward";const{xOrigin:t,yOrigin:n,context:i,transition:o}=this;for(const t of this.runningAnimations)i.animCancel(t);this.runningAnimations=[];const r=(0,e.$4L)(this.transfo,this.transfo,{position:[t,n,0],orientation:new e.HIE});i.animSchedule({duration:.2,action:t=>{this.transition=(0,e.fTR)(o,0,t),r(t)},onEnd:()=>this.animating="none"})};const o=r.U.assets.glb.value;if(!o)throw new Error("Asset has not been loaded yet!");this.name=a[n]??`Invalid index #${n}!`;const l=this.materialSocle=new s({color2D:[.1,.1,.1,1],color3D:[.5,.5,.5,1],skybox:i}),h=this.materialLetter=new s({color2D:[1,1,1,1],color3D:[.8,.5,.2,1],skybox:i}),u=new e.dRj(t,{asset:o,meshIndexOrName:"Stencil",material:l}),m=new e.dRj(t,{asset:o,meshIndexOrName:this.name,material:h});this.add(u,new e.buV({children:[m],transfo:{position:[0,0,.1]}}));const f=n%7,d=Math.floor(n/7),g=(f-3)*c.width,x=(.5-d)*c.height;this.transfo.setPosition(g,x,0),this.xOrigin=g,this.yOrigin=x}get transition(){return this._transition}set transition(t){this._transition=t,this.materialSocle.transition=t,this.materialLetter.transition=t}hitTest(t,n){const i=Math.abs(t-this.xOrigin),o=Math.abs(n-this.yOrigin);return i<c.width/2&&o<c.height/2}}c.width=5.08,c.height=6.4;const l={main:"yWd8oPugx5O0Dhk7Mwjj"};function h(){const t=t=>{if(!t)return;const n=new e.xNY({transfo:{distance:20,position:[0,0,0]},far:1e3,near:.1,fovy:Math.PI/4,zoom:1}),i=new e.tfp(t,{camera:n}),o=new e.Ipk(i,{depth:e.Eg5.lessOrEqual,children:[new e.ZJl(()=>{i.camera.fitSpaceAtTarget(7.35*c.width,2.1*c.height)}),new e.o57(i,{color:[0,0,0,1],depth:1})]});if(i.add(o),!r.U.assets.glb.value)throw new Error("Asset has not been loaded yet!");const s=new e.adp(i,r.U.assets.skybox.value),a=[];for(let t=0;t<14;t++){const n=new c(i,t,s);a.push(n),o.add(n)}i.paint(),i.inputs.pointer.eventTap.addListener(t=>{for(const t of a)t.unselect();const n=((t,n)=>{const{camera:o}=i,e=o.spaceWidthAtTarget*t/2,r=o.spaceHeightAtTarget*n/2;for(const t of a)if(t.hitTest(e,r))return t})(t.x,t.y);n&&n.select()})};return(0,o.jsx)("div",{className:l.main,children:(0,o.jsx)("canvas",{ref:t})})}}}]);